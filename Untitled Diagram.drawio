<mxfile host="app.diagrams.net" modified="2021-09-02T12:04:25.199Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36 Edg/92.0.902.84" etag="C_Atr1XTnh_X0tO7bBGr" version="15.0.2" type="github" pages="3">
  <diagram id="C1_X4sTfBII8gcuETevI" name="Page-1">
    <mxGraphModel dx="1001" dy="511" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="bmGVuFcMd1g0pF1emnTb-1" value="host" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="130" y="40" width="60" height="460" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-2" value="RPE" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="40" width="60" height="460" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-16" value="" style="endArrow=classic;html=1;" edge="1" parent="bmGVuFcMd1g0pF1emnTb-2" target="bmGVuFcMd1g0pF1emnTb-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="240" as="sourcePoint" />
            <mxPoint x="80" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-3" value="N2" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="490" y="40" width="60" height="460" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-15" value="" style="endArrow=classic;html=1;" edge="1" parent="bmGVuFcMd1g0pF1emnTb-3" target="bmGVuFcMd1g0pF1emnTb-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="150" as="sourcePoint" />
            <mxPoint x="80" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-7" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-1" target="bmGVuFcMd1g0pF1emnTb-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="170" as="sourcePoint" />
            <mxPoint x="380" y="60" as="targetPoint" />
            <Array as="points">
              <mxPoint x="280" y="110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-12" value="post sqwpe" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="bmGVuFcMd1g0pF1emnTb-7">
          <mxGeometry x="0.028" y="-1" relative="1" as="geometry">
            <mxPoint y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-13" value="" style="endArrow=classic;html=1;exitX=0.483;exitY=0.096;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="358.98" y="137.64" as="sourcePoint" />
            <mxPoint x="519.5" y="137.64" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-24" value="将sqwqe写到rpe_n2_wqeq" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="bmGVuFcMd1g0pF1emnTb-13">
          <mxGeometry x="-0.2092" relative="1" as="geometry">
            <mxPoint x="18" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-14" value="DPE" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="650" y="40" width="60" height="460" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-20" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="190" as="sourcePoint" />
            <mxPoint x="360" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="340" y="200" />
              <mxPoint x="330" y="230" />
              <mxPoint x="340" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-21" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="519.810344827586" y="138" as="sourcePoint" />
            <mxPoint x="520" y="190" as="targetPoint" />
            <Array as="points">
              <mxPoint x="540" y="140" />
              <mxPoint x="550" y="160" />
              <mxPoint x="540" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-22" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="110" as="sourcePoint" />
            <mxPoint x="360" y="140" as="targetPoint" />
            <Array as="points">
              <mxPoint x="380" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-25" value="siw/tcp/ip处理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="560" y="150" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-26" value="写dma命令到n2_rpe_dmaq" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="365" y="170" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-27" value="dma搬数据，进行安全检查&lt;br&gt;将header和payload组成完整报文" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="155" y="215" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-28" value="通知DPE发送报文" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="450" y="260" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-29" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="679.5" y="351" as="sourcePoint" />
            <mxPoint x="359.8103448275863" y="351" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-30" value="上送远端回复的TCP ACK报文" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="415" y="330" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-32" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-3" target="bmGVuFcMd1g0pF1emnTb-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="470" as="sourcePoint" />
            <mxPoint x="560" y="420" as="targetPoint" />
            <Array as="points">
              <mxPoint x="390" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-34" value="post cqe" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="bmGVuFcMd1g0pF1emnTb-32">
          <mxGeometry x="-0.0868" y="-1" relative="1" as="geometry">
            <mxPoint x="-1" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-31" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="390" as="sourcePoint" />
            <mxPoint x="519.5" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-43" value="写标识符到rpe_n2_pktq" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="bmGVuFcMd1g0pF1emnTb-31">
          <mxGeometry x="-0.3899" y="1" relative="1" as="geometry">
            <mxPoint x="31" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-33" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-2" target="bmGVuFcMd1g0pF1emnTb-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="500" as="sourcePoint" />
            <mxPoint x="410" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="280" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-35" value="post cqe" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1">
          <mxGeometry x="259.99655172413816" y="460" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-36" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="350" as="sourcePoint" />
            <mxPoint x="360" y="390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="340" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-37" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1" target="bmGVuFcMd1g0pF1emnTb-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="519.810344827586" y="390" as="sourcePoint" />
            <mxPoint x="590" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-39" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="440" as="sourcePoint" />
            <mxPoint x="520" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-40" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="390" as="sourcePoint" />
            <mxPoint x="520" y="430" as="targetPoint" />
            <Array as="points">
              <mxPoint x="550" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-41" value="确认wqe对于的数据已经被接收&lt;br&gt;生成对应的cqe" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="530" y="395" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-42" value="" style="endArrow=classic;html=1;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="430" as="sourcePoint" />
            <mxPoint x="360" y="470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="350" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-44" value="把报文搬到指定N2 buffer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="190" y="360" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-46" target="bmGVuFcMd1g0pF1emnTb-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-46" value="N2 sqwpe处理" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="117.5" y="680" width="85" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-47" target="bmGVuFcMd1g0pF1emnTb-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-47" value="获取sqwpe" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="100" y="750" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-49">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-49" value="siw处理：生成RDMAP/DDP/MPA header，根据当前TCP发送窗口的小大和mss对齐规则，决定需要发送报文的数据大小。" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="77.5" y="830" width="165" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-50" target="bmGVuFcMd1g0pF1emnTb-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-50" value="tcp/ip/eth处理：记录当前报文的seq_num和length以及对于的wqe idx，生成tcp/ip/eth header" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#97d077;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="75" y="1185" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-51" target="bmGVuFcMd1g0pF1emnTb-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-51" value="填写N2_RPE_DMA描述符&lt;br&gt;下Doorbell" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="85" y="1275" width="150" height="41" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-52" value="end" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;align=center;" vertex="1" parent="1">
          <mxGeometry x="125" y="1354" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-60" target="bmGVuFcMd1g0pF1emnTb-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-60" value="rpe_n2_pktq处理" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;align=center;" vertex="1" parent="1">
          <mxGeometry x="620" y="680" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-62" target="bmGVuFcMd1g0pF1emnTb-63">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="1075" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-62" target="bmGVuFcMd1g0pF1emnTb-67">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="230" y="1025" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-62" value="wqe对应的rdma数据是否能够全部发送出去" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;align=center;fontColor=#33001A;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="90" y="960" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-63" target="bmGVuFcMd1g0pF1emnTb-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-63" value="计算expected_ack用于上报sqe，并加入tcp_ack处理队列" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;fontColor=#33001A;align=center;" vertex="1" parent="1">
          <mxGeometry x="77.5" y="1100" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#33001A;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-67" target="bmGVuFcMd1g0pF1emnTb-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-67" value="计算和记录下一次发送报文的地址信息，并加入待处理队列" style="whiteSpace=wrap;html=1;fontColor=#33001A;fontStyle=0;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="1100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-71" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="1">
          <mxGeometry x="130" y="1070" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-72" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="1">
          <mxGeometry x="275" y="990" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-76" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-73" target="bmGVuFcMd1g0pF1emnTb-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-73" value="获取pktq标识符，构造报文缓存" style="whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="750" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-75" target="bmGVuFcMd1g0pF1emnTb-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-75" value="ip/eth处理：剥离ip/eth header" style="whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="830" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-77" target="bmGVuFcMd1g0pF1emnTb-79">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#33001A;strokeWidth=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-77" target="bmGVuFcMd1g0pF1emnTb-91">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="935" />
              <mxPoint x="560" y="1399" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-77" value="TCP ACK报文" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="910" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-79" target="bmGVuFcMd1g0pF1emnTb-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-79" target="bmGVuFcMd1g0pF1emnTb-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-79" value="ACK是否等于expected_ack" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="1000" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-81" target="bmGVuFcMd1g0pF1emnTb-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-81" value="生成cqe，通知RPE处理" style="whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="1100" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-86" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-83" target="bmGVuFcMd1g0pF1emnTb-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-83" value="更新发送窗口信息" style="whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="1169" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-88" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-85" target="bmGVuFcMd1g0pF1emnTb-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#33001A;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-85" target="bmGVuFcMd1g0pF1emnTb-91">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="1265" />
              <mxPoint x="750" y="1399" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-85" value="待处理队列是否为非空" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="1240" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="bmGVuFcMd1g0pF1emnTb-87" target="bmGVuFcMd1g0pF1emnTb-91">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="670" y="1530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-87" value="调度发送线程处理" style="whiteSpace=wrap;html=1;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="1324" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-91" value="end" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;align=center;" vertex="1" parent="1">
          <mxGeometry x="635" y="1384" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-92" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="645" y="970" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-93" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="645" y="1060" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-96" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="645" y="1296" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-97" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="1240" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-98" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="1010" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bmGVuFcMd1g0pF1emnTb-100" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="910" width="30" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="guN0M8e6Wvazivk_Ryqc" name="TX侧flow">
    <mxGraphModel dx="1678" dy="434" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-0" />
        <mxCell id="gVJ06niwFB5ByoAfVnI6-1" parent="gVJ06niwFB5ByoAfVnI6-0" />
        <mxCell id="gVJ06niwFB5ByoAfVnI6-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-3" target="gVJ06niwFB5ByoAfVnI6-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-3" value="rpe_n2_wqeq处理" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="117.5" y="680" width="85" height="40" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-5" target="gVJ06niwFB5ByoAfVnI6-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-5" value="获取sqwpe" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="100" y="750" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-24" target="gVJ06niwFB5ByoAfVnI6-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-7" target="gVJ06niwFB5ByoAfVnI6-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-7" value="生成RDMAP/DDP/MPA header，根据当前&lt;b&gt;&lt;font color=&quot;#ff531f&quot;&gt;TCP发送窗口的小大&lt;/font&gt;&lt;/b&gt;和mss对齐规则，决定需要发送报文的数据大小。" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="77.5" y="830" width="165" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-9" target="gVJ06niwFB5ByoAfVnI6-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-9" value="根据TCP的seq_num获取wqe_idx，从而获取wqe并得到seq_num基于wqe首payload的offset。" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="280" y="1210" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-11" target="gVJ06niwFB5ByoAfVnI6-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-11" value="填写n2_rpe_dmaq描述符&lt;br&gt;下Doorbell" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="290" y="1310" width="150" height="41" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-22" target="gVJ06niwFB5ByoAfVnI6-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-22" value="TCP/IP" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#97d077;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="280" y="1040" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-24" target="gVJ06niwFB5ByoAfVnI6-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-24" value="记录当前报文的&lt;font color=&quot;#ff531f&quot;&gt;seq_num&lt;/font&gt;和length以及对应的wqe idx，建立seq_num和wqe之间的关系" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="75" y="960" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-27" target="gVJ06niwFB5ByoAfVnI6-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="1230" />
              <mxPoint x="20" y="1230" />
              <mxPoint x="20" y="770" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="gVJ06niwFB5ByoAfVnI6-1" source="gVJ06niwFB5ByoAfVnI6-27" target="gVJ06niwFB5ByoAfVnI6-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="58" y="1150" />
              <mxPoint x="58" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-27" value="wqe对应的rdma数据是否能够全部发送出去" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;align=center;fontStyle=0;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="90" y="1100" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-25" value="RPE" style="whiteSpace=wrap;html=1;fontStyle=0;strokeWidth=1;gradientColor=#b3b3b3;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="285" y="1400" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-33" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="-5" y="980" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gVJ06niwFB5ByoAfVnI6-34" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="35" y="1010" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cKzUE8a2EKpf0wEabVOW-0" value="&lt;font color=&quot;#ff531f&quot;&gt;此处的wqe可以是本端接收到远端的read/atomic命令&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="455" y="1230" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cKzUE8a2EKpf0wEabVOW-1" value="&lt;font color=&quot;#ff531f&quot;&gt;此处包括重传和非重传报文&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="gVJ06niwFB5ByoAfVnI6-1">
          <mxGeometry x="370" y="1160" width="160" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="LPmE20Mx5uJJ7jfNu2Le" name="RX侧flow">
    <mxGraphModel dx="1366" dy="299" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Wmk--sCrOHh_ecvUuyhz-0" />
        <mxCell id="Wmk--sCrOHh_ecvUuyhz-1" parent="Wmk--sCrOHh_ecvUuyhz-0" />
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-0" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-1" target="CIwHIOxIAU5JLlmhW3Hc-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-1" value="rpe_n2_pktq处理" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="315" y="330" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-3" target="CIwHIOxIAU5JLlmhW3Hc-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-3" value="获取报文描述符" style="whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="305" y="400" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-5" target="CIwHIOxIAU5JLlmhW3Hc-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-5" value="TCP/IP" style="whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#97d077;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="305" y="480" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-8" target="CIwHIOxIAU5JLlmhW3Hc-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-8" target="w53via5vYeOAPeozdaTW-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-8" value="TCP ACK报文" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="315" y="560" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-11" target="Q-wLJAv97YySSE1e0Pzx-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="CIwHIOxIAU5JLlmhW3Hc-11" target="Q-wLJAv97YySSE1e0Pzx-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-11" value="ACK是否等于expected_ack" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="315" y="650" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="Q-wLJAv97YySSE1e0Pzx-7" target="Q-wLJAv97YySSE1e0Pzx-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-22" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="340" y="620" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-23" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="330" y="710" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CIwHIOxIAU5JLlmhW3Hc-27" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="250" y="560" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="Q-wLJAv97YySSE1e0Pzx-0" target="Q-wLJAv97YySSE1e0Pzx-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="810" />
              <mxPoint x="180" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-0" value="填写n2_rpe_pktq包描述符和cqe信息，&lt;br&gt;下Doorbell" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="105" y="769" width="150" height="41" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-1" value="RPE" style="whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#b3b3b3;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="120" y="850" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-7" value="生成cqe，通知RPE处理" style="whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="295" y="845" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-8" value="不做处理" style="whiteSpace=wrap;html=1;strokeColor=#b85450;strokeWidth=1;fillColor=#f8cecc;gradientColor=#ea6b66;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="485" y="650" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-10" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="425" y="660" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="Q-wLJAv97YySSE1e0Pzx-12" target="Q-wLJAv97YySSE1e0Pzx-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="Q-wLJAv97YySSE1e0Pzx-12" target="Q-wLJAv97YySSE1e0Pzx-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-12" value="通过ACK索引到wqe_id，判断wqe_id是否全部已经ack" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="297.5" y="740" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-16" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="330" y="810" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Q-wLJAv97YySSE1e0Pzx-17" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="470" y="750" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-0" value="根据marker定位MPA头，解释MPA层头" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="105" y="620" width="150" height="41" as="geometry" />
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-1" value="是否是last DDP" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="130" y="689.5" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-2" value="填写n2_rpe_pktq包描述符，&lt;br&gt;下Doorbell" style="rounded=0;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=1;align=center;gradientColor=#ea6b66;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="-60" y="770" width="150" height="41" as="geometry" />
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="w53via5vYeOAPeozdaTW-2" target="Q-wLJAv97YySSE1e0Pzx-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="14.659999999999997" y="858.97" as="sourcePoint" />
            <mxPoint x="14.659999999999997" y="939.97" as="targetPoint" />
            <Array as="points">
              <mxPoint x="15" y="865" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" target="Q-wLJAv97YySSE1e0Pzx-0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="750" as="sourcePoint" />
            <mxPoint x="190" y="804" as="targetPoint" />
            <Array as="points">
              <mxPoint x="180" y="764" />
              <mxPoint x="180" y="764" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#33001A;strokeWidth=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="Wmk--sCrOHh_ecvUuyhz-1" source="w53via5vYeOAPeozdaTW-1" target="w53via5vYeOAPeozdaTW-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="25" y="821" as="sourcePoint" />
            <mxPoint x="130" y="875" as="targetPoint" />
            <Array as="points">
              <mxPoint x="25" y="719" />
              <mxPoint x="15" y="719" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-6" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="180" y="740" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-7" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;strokeWidth=1;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="90" y="690" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="w53via5vYeOAPeozdaTW-8" value="&lt;font color=&quot;#ff531f&quot;&gt;接收到的ACK报文需要注册回调函数。&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#33001A;" vertex="1" parent="Wmk--sCrOHh_ecvUuyhz-1">
          <mxGeometry x="400" y="530" width="220" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
